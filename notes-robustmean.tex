% Created 2021-12-15 Wed 19:15
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{Alessandro Bruni}
\date{\today}
\title{Notes on Lemma 1.4}
\hypersetup{
 pdfauthor={Alessandro Bruni},
 pdftitle={Notes on Lemma 1.4},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 27.2 (Org mode 9.4.4)}, 
 pdflang={English}}
\begin{document}

\maketitle

\section{First issue regarding the proof of Lemma 1.4}

Regarding the first part of the proof of Lemma 1.4 as explained in p.\ 63.
We are able to formalize the first step (saying that $\hat\mu - \widetilde{\mu}$ is
upper bounded) as an application the resilience lemma (see
\url{https://github.com/affeldt-aist/robustmean/blob/mu_wave_mu/lemma_1_4.v#L322-L328}).
However, we have not yet succeeded at proving the fact that $\mu - \widetilde{\mu}$
is upper bounded as indicated p.\ 63 in the sentence started from ``In addition,''
(see the tentative formal statement at
\url{https://github.com/affeldt-aist/robustmean/blob/mu_wave_mu/lemma_1_4.v#L407-L412}).

We are able to show the inequality mentioned line 5 of p.\ 63. However,
we have not been able to make sense of the statement in parentheses and we are
not sure that we have to use the resilience lemma here.
Can you confirm that this is an application of the resilience lemma
and can you provide details about the statement in parentheses?

\section{Second issue regarding the steps A10-A11 of Lemma 1.4}

Ieva and I spent some time together last week on understanding A10-A11, unfortunately without success.

The formula that seems to be needed for the proof is the one in the theorem statement:
\[ \sum_{i \in \overline S} c_i \tau_i \ge 2/3 \cdot \hat\sigma_c^2 \cdot n \]

The best proof I have so far is for the sum over all elements:

We know \(\hat\sigma_c^2 = {\sum_i c_i \tau_i \over \sum_i c_i}\) by definition, and that  \(\sum_{i \in S} c_i \ge (1-{\epsilon\over 2})|S| = (1-{\epsilon\over 2})(1-\epsilon)n \ge 1-3\epsilon/2\) from the first part of the proof.

Therefore we can conclude
\begin{align*}
\sum_i c_i \tau_i &= \hat\sigma_c^2 \cdot \sum_i c_i &&\text{by definition of }\hat\sigma_c^2\\
&\ge \hat\sigma_c^2 \sum_{i \in S} c_i &&\text{reducing the sum of the $c_i$s}\\
&\ge \hat\sigma_c^2 (1-3\epsilon/2)n &&\text{applying the result above}\\
&\ge {2\over 3} \hat\sigma_c^2 n &&\text{if }\epsilon \le {1\over12}
\end{align*}

Another option is to split the sum:
\begin{align*}
\sum_{i \in \overline S} c_i \tau_i &= \hat\sigma_c^2 \cdot \sum_i c_i - \sum_{i \in S} c_i \tau_i &&\text{by definition}\\
&\ge \hat\sigma_c^2(1-3\epsilon/2)n - \sum_{i\in S}c_i \tau_i&&\text{from the previous result}\\
&\ge \hat\sigma_c^2(1-3\epsilon/2)n - {1-\epsilon \over 3}\hat\sigma_c^2n &&\text{from equations A6-A9}\\
&= \hat\sigma_c^2n(1-{3\epsilon\over 2} - {1-\epsilon \over 3}) &&\text{grouping}\\
&= \hat\sigma_c^2n({4-7\epsilon \over 6})
\end{align*}
which is close, but not quite, what we are looking for.

One thing that we have not considered is how far smaller is \(\sum_{i\in S} c_i\) than \(\sum_i c_i\) which might be the missing piece, but I have not found any result on the bounds of the sum of the remaining \(c_i\)s.
There might be some information on how big \(\sum_{i \in \overline S} c_i\) is that comes from the fact that \(\hat\sigma_c^2 \ge 16 \sigma^2\).
At the moment I don't know how to get it though.

We have built a Python script just to test empirically that the invariant holds, and at least in the experiments the tighter bound seems to hold, and the practical bounds are quite larger than the theoretical result. I tend to believe that the statement from the lemma definition is correct, and not the execution in equations A10-A11.

\section{Issue regarding termination}
We originally thought that the termination argument relies on the support set for the $c_i$s being strictly decreasing.
This is not the case: at the first iteration of the algorithm, only the $c_i$s of the points that are furthest away from the empirical mean $\hat\mu_c$ are set to 0, but then no other $c_i$ is set to 0 with subsequent updates.

Maybe the argument for termination relies on some bound for the decreasing of the empirical variance $\hat\sigma_c^2$, but we don't know which bound can be proven and the thesis does not mention it.

Would you have a clue on how to construct the termination argument?

\end{document}